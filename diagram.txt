@startuml

class "ExamPart" {
  id : Long
  contenido : String
  type : Type
  parent : ExamPart
  childs : List<ExamPart>
}

class "ExamPartContainer" {
  titulo : String
  getQuestions(Type, String) : List<ExamPart>
}

class "Pregunta" {
  score : Double
  respuesta : ExamPart
}

class "ExamRandomBuilder"

class "ExamPartSpecification" {
  childs : List<ExamPartSpecification>
}

class "ExamPartContainerSpecification" {
  of(Type, String) : QuestionSpecification
  fulfill(ExamPartContainer) : boolean
}

class "QuestionSpecification" {
  examPartType : Type
  title : String
  numberOfQuestions : int
  has(Supplier<ExamPartContainerSpecification>)
  hasQuestions(int)
}

class "ExamSpecification" {
  id : Long
  description : String
  range : DateTimeRange
}

class "PostulantExam" {
  id : Long
  exam : ExamPartContainer
  postulante : Postulante
  specification : ExamSpecification
  actualRange : DateTimeRange
  answers : List<PostulantAnswer>
}

"ExamPart" <|-- "ExamPartContainer"
"ExamPart" <|-- "Pregunta"
"ExamPartSpecification" <|-- "ExamPartContainerSpecification"
"ExamPartSpecification" <|-- "QuestionSpecification"
"ExamPart" <-> "ExamPart" : parent
"Pregunta" --> "ExamPart" : respuesta
"ExamPartSpecification" --> "*" "ExamPartSpecification" : childs
"PostulantExam" --> "ExamPartContainer" : exam
"PostulantExam" --> "ExamSpecification" : specification

@enduml
