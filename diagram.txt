@startuml

class "ExamPart" {
  id : Long
  title : String
  content : String
  type : Type
  parent : ExamPart
  childs : List<ExamPart>
}

class "Question" {
  score : Double
  answer : ExamPart
  alternatives() : List<ExamPart>
}

class "ExamRandomBuilder" {
  from(List<ExamPart>, BuildExamPartSpecification) : List<PostulantQuestion>
}

class "BuildExamPartSpecification" {
  title : String
  examPartType : Type
  number : int
  childs : List<BuildExamPartSpecification>
  title(String) : BuildExamPartSpecification
  findExamParts(List<ExamPart>) : List<ExamPart>
  addChild(BuildExamPartSpecification) : BuildExamPartSpecification
}

class "ExamEvent" {
  id : Long
  description : String
  range : DateTimeRange
  hasStarted() : boolean
  hasEnded() : boolean
}

class "PostulantExam" {
  id : Long
  postulant : Postulant
  event : ExamEvent
  actualRange : DateTimeRange
  questions : List<PostulantQuestion>
  finish()
}

class "PostulantQuestion" {
  id : Long
  question : Question
  postulantExam : PostulantExam
  postulantAnswer : ExamPart
  alternatives : List<ExamPart>
}

class "Postulant" {
  firstName : String
  lastName : String
  motherLastName : String
  programCode : String
  upgCode : String
  start(ExamEvent, List<PostulantQuestion>) : PostulantExam
}

"ExamPart" <|-- "Question"
"ExamPart" <-> "ExamPart" : parent
"Question" --> "ExamPart" : answer
"BuildExamPartSpecification" --> "*" "BuildExamPartSpecification" : childs
"PostulantExam" --> "Postulant" : postulant
"PostulantExam" --> "ExamEvent" : event
"PostulantExam" <-> "*" "PostulantQuestion" : questions
"PostulantQuestion" --> "Question" : question
"PostulantQuestion" --> "ExamPart" : postulantAnswer
"PostulantQuestion" --> "*" "ExamPart" : alternatives

@enduml
